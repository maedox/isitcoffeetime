<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Is it coffee time?</title>
<link rel=stylesheet href=//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css>
<script type="text/javascript">
function isItTime() {
  var now = new Date();
  var year = now.getFullYear();
  var month = now.getMonth();
  var date = now.getDate();

  // Soon time for first coffee
  var first_soon = new Date(year, month, date, 09, 00, 0, 0);

  // First coffee time slot
  var first_begin = new Date(year, month, date, 09, 30, 0, 0);
  var first_end = new Date(year, month, date, 11, 30, 0, 0);

  // Soon time for second coffee
  var second_soon = new Date(year, month, date, 13, 00, 0, 0);

  // Second coffee time slot
  var second_begin = new Date(year, month, date, 13, 30, 0, 0);
  var second_end = new Date(year, month, date, 17, 00, 0, 0);

  // So, is it coffee time? (0930 – 1130 and 1330 – 1700)
  if ( now >= first_begin && now <= first_end || now >= second_begin && now <= second_end ) {
    var coffeeTime = "Yes! :-D";
  }
  else if ( now >= first_soon && now < first_begin || now >= second_soon && now < second_begin ) {
    var coffeeTime = "Soon :-)";
  }
  else {
    var coffeeTime = "Nope :-(";
  }

  document.getElementById('coffee_time').innerHTML = coffeeTime;

  setTimeout('isItTime()', 1000);
}
</script>
</head>
<body onload="isItTime();">
<div class="container text-center">
  <div class="jumbotron">
    <h1>Is it coffee time?</h1>
    <br />
    <h2 id="coffee_time"></h2>
  </div>
  <p class="text-muted">
  <a title="When is the best time to drink coffee?" href="http://en.ilovecoffee.jp/posts/view/110" target="_blank">Why?</a>
  | <a title="@maedox on Twitter" href="https://twitter.com/maedox" target="_blank">@maedox</a>
  | <a title="Fork me on GitHub" href="https://github.com/maedox/isitcoffeetime" target="_blank">GitHub</a>
  </p>
</div>
</body>
</html>
